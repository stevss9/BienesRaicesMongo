<!DOCTYPE html>
<html>

<head>
    <title>Modificar Casas</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css"
        integrity="sha512-SzlrxWUlpfuzQ+pcUCosxcglQRNAq/DZjVsC0lE40xsADsfeQoEypE+enwcOiGjk/bSuGGKHEyjSoQ1zVisanQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        .csa {
            background-color: #2b2e38;
            color: white;
        }

        body {
            height: 100vh;
            overflow: hidden;
            font-family: "Poppins";
            background: #cccc;
        }
    </style>
</head>

<body>
    <!-- Navbar (sit on top) -->
    <div class="w3-top">
        <div class="w3-bar w3-white w3-wide w3-padding w3-card">
            <a href="#" class="w3-bar-item w3-button"><b>SMD</b> Bienes y Raices</a>
            <!-- Float links to the right. Hide them on small screens -->
            <div class="w3-right w3-hide-small">
                <a href="{{ url_for('editPropiedad') }}" class="w3-bar-item w3-button"
                    style="color: blue;"><strong>Regresar</strong></a>
            </div>
            <div class="w3-right w3-hide-small">
                <a href="{{ url_for('index') }}" class="w3-bar-item w3-button" style="color: red;"><strong>Cerrar
                        Session</strong></a>
            </div>
        </div>
    </div>
    <br><br><br>

    <div class="container">
        <div class="row">
            <div class="col">
                <div class="card">
                    <div class="card-header">
                        <h5 class="text-center">Editar Casas</h5>
                        <form action="/searchC" method="GET" class="mb-3">
                            <div class="input-group">
                                <input type="text" class="form-control" name="nombre" placeholder="Buscar por Nombre">
                                <button class="btn btn-primary" type="submit">Buscar</button>
                                <button class="btn btn-danger" type="submit"><a href="{{ url_for('modificarCasa') }}"
                                        style="color: white;">Eliminar</a></button>
                            </div>
                        </form>
                    </div>
                    <div class="card-body">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Ubicación</th>
                                    <th>Precio</th>
                                    <th>Habitaciones</th>
                                    <th>Baños</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for propiedad in propiedades %}
                                <tr>
                                    <form action="/edit/casa/{{propiedad._id}}" method="POST">
                                        <td>
                                            <input type="text" class="form-control" id="_id" name="_id"
                                                value="{{propiedad._id}}" disabled>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control nombre-input" id="nombre"
                                                name="nombre" value="{{propiedad.nombre}}" disabled>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control ubicacion-input" id="ubicacion"
                                                name="ubicacion" value="{{propiedad.ubicacion}}" disabled>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control precio-input" id="precio"
                                                name="precio" value="{{propiedad.precio}}" disabled>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control habitaciones-input" id="habitaciones"
                                                name="habitaciones" value="{{propiedad.habitaciones}}" disabled>
                                        </td>
                                        <td>
                                            <input type="text" class="form-control banos-input" id="banos" name="banos"
                                                value="{{propiedad.banos}}" disabled>
                                        </td>

                                        <td>
                                            <button class="btn btn-danger btn-sm" type="button"
                                                onclick="toggleEdit(this)">Editar</button>

                                        </td>
                                        <td>
                                            <input type="hidden" name="_id" value="{{propiedad._id}}">
                                            <button class="btn btn-primary btn-sm" type="submit">Guardar</button>
                                        </td>

                                    </form>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br><br>

    <!-- Footer -->
    <footer class="w3-center csa w3-padding-16">
        <p>Hecho por <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank"
                class="w3-hover-text-green" style="color: white;"> Grupo 5 - Universidad de las Fuerzas Armadas
                ESPE</a></p>
    </footer>
    <script>
        function toggleEdit(button) {
            var row = button.parentNode.parentNode;
            var nombreInput = row.querySelector('.nombre-input');
            var ubicacionInput = row.querySelector('.ubicacion-input');
            var precioInput = row.querySelector('.precio-input');
            var habitacionesInput = row.querySelector('.habitaciones-input');
            var banosInput = row.querySelector('.banos-input');
    
            nombreInput.disabled = !nombreInput.disabled;
            ubicacionInput.disabled = !ubicacionInput.disabled;
            precioInput.disabled = !precioInput.disabled;
            habitacionesInput.disabled = !habitacionesInput.disabled;
            banosInput.disabled = !banosInput.disabled;
        }
    </script>
    



    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

</body>

</html>